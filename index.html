<!DOCTYPE html>
<html lang="da">
    <head>
        <title>Epidemiological Modelling</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="assets/css/main.css">

        <link href="https://fonts.googleapis.com/css?family=Crimson+Text|Work+Sans:400,700" rel="stylesheet">

        <!-- Icon in browser tab -->
        <link rel="icon" href="images/aau_icon.png">
        <!-- Chart.js API link -->
        <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3"></script>
        <!-- Not working Chart.js Zoom plugin -->
        <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8/hammer.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@0.7.7"></script>
        <!-- Math API typography link -->
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    </head>
    <body>
        <div id="outerDiv">
            <!-- Header and text -->
            <div id="tekst">
                <h1 id="title1">Epidemiological Modelling</h1>
                <h2 id="titledes">SEIRS Compartmental Model</h2>
            </div>

            <!-- Inserts chart/graph -->
            <div id="left-container">
                <div class="chart">
                    <canvas id="myChart"></canvas>
                </div>
                <!-- X-axes slider -->
                <input id="xSlider1" class="slider"      type="range"    min="0"     max="20000"  value="20000" step="1">
                <!-- Slider and input boxes -->
                <div class="sliderBoxes">
                    <div class="sliders">
                        <p class="sliderTitle">Initial Susceptible (S<span class="sub">0</span>)</p>
                        <p class="sliderDes">Text <br>
                        <input type="checkbox" id="fixedPopulation" name="fixedPopulation" value="popChecked" onchange="fixedPopulation()">
                        <label for="fixedPopulation">Fixed Population</label></p>
                        <p> <input id="S0Form1"    class="inputForm"   type="number"   min="1000"    max="10000000"    maxlength="3"   value="99000"></p>
                            <input id="S0Slider1"  class="slider"      type="range"    min="1000"    max="10000000"    maxlength="3"   value="99000">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Initial Exposed (E<span class="sub">0</span>)</p>
                        <p class="sliderDes">Text</p>
                        <p> <input id="E0Form1"     class="inputForm"   type="number"   min="0"     max="100000"   maxlength="3"   value="0"></p>
                            <input id="E0Slider1"   class="slider"      type="range"    min="0"     max="100000"   maxlength="3"   value="0">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Initial Infected (I<span class="sub">0</span>)</p>
                        <p class="sliderDes">Text</p>
                        <p> <input id="I0Form1"     class="inputForm"   type="number"   min="0"     max="100000"   maxlength="3"   value="1000"></p>
                            <input id="I0Slider1"   class="slider"      type="range"    min="0"     max="100000"   maxlength="3"   value="1000">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Initial Removed (R<span class="sub">0</span>)</p>
                        <p class="sliderDes">Text</p>
                        <p> <input id="R0Form1"     class="inputForm"   type="number"   min="0"     max="100000"   maxlength="3"   value="0"></p>
                            <input id="R0Slider1"   class="slider"      type="range"    min="0"     max="100000"   maxlength="3"   value="0">
                    </div>
                </div>
                <div class="sliderBoxes">
                    <div class="sliders">
                        <p class="sliderTitle">Beta</p>
                        <p class="sliderDes">Œ≤ represents the efective transmission rate. </p>
                        <p> <input id="transForm1"   class="inputForm"   type="number"   min="0.001"  max="0.1"      value="0.02"></p>
                            <input id="transSlider1" class="slider"      type="range"    min="0.001"     max="0.1"     value="0.02" step="0.001">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Gamma</p>
                        <p class="sliderDes">Œ≥ represents the removal or the recovery rate.</p>
                        <p> <input id="remForm1"     class="inputForm"   type="number"   min="0.00001" max="0.02"  maxlength="10000000"    value="0.0006"></p>
                            <input id="remSlider1"   class="slider"      type="range"    min="0.00001" max="0.02"  maxlength="10000000"    value="0.0006" step="0.0001">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Epsilon</p>
                        <p class="sliderDes">The rate of recovered individuals returning to susceptible.</p>
                        <p> <input id="epsForm1"   class="inputForm"   type="number"   min="0.00001"  max="0.1"      value="0.02"></p>
                            <input id="epsSlider1" class="slider"      type="range"    min="0.00001"     max="0.1"     value="0.02" step="0.00001">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Sigma</p>
                        <p class="sliderDes">The incubation rate.</p>
                        <p> <input id="sigForm1"     class="inputForm"   type="number"   min="0.00001" max="0.02"  maxlength="10000000"    value="0.0006"></p>
                            <input id="sigSlider1"   class="slider"      type="range"    min="0.00001" max="0.02"  maxlength="10000000"    value="0.0006" step="0.0001">
                    </div>
                </div>
                <div class="sliderBoxes">
                    <div class="sliders">
                        <p class="sliderTitle">Step size</p>
                        <p class="sliderDes">Text</p>
                        <p> <input id="stepForm1"     class="inputForm"   type="number"   min="0.01"     max="10"   maxlength="3"   value="0.1"></p>
                            <input id="stepSlider1"   class="slider"      type="range"    min="0.01"     max="5"   maxlength="3"   value="0.1" step="0.01">
                    </div>
                    <div class="sliders">
                        <p class="sliderTitle">Total steps</p>
                        <p class="sliderDes">Text</p>
                        <p> <input id="totalStepForm1"     class="inputForm"   type="number"   min="1"     max="20000"     value="10000"></p>
                            <input id="totalStepSlider1"   class="slider"      type="range"    min="1"     max="20000"     value="10000" step="0.1">
                    </div>
                </div>
                <h2>Former Diseases</h2>
                <table class="diseasesTable">
                    <tr>
                        <th>Disease</th>
                        <th>Parameters</th>
                        <th>Show on graph</th>
                        <th>Source</th>
                    </tr>
                    <tr>
                        <td>COVID-19 Algeria (2020)</td>
                        <td>Œ≤ = 0.0561215, Œ≥ = 0.0455331</td>
                        <td><a onclick="covid19Algeria()" style="cursor: pointer; cursor: hand; color: blue;">Press me</a></td>
                        <td><a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7570398/pdf/42269_2020_Article_434.pdf" target="_blank">Link</a></td>
                    </tr>
                    <tr>
                        <td>Tuberculosis</td>
                        <td>2</td>
                        <td>3</td>
                        <td>Link</td>
                    </tr>
                    <tr>
                        <td>Ebola</td>
                        <td>2</td>
                        <td>3</td>
                        <td>Link</td>
                    </tr>
                </table>
                <h2>SEIRS Model</h2>
                <p class="modalText">The SEIRS ordinary differential equation is:  </p>
                <p class="mathFunc">\( {dS \over dt} = -{Œ≤SI \over N} + ùúâR  \)</p>
                <p class="mathFunc">\( {dE \over dt} = {Œ≤IS \over N} - ùúéE  \)</p>
                <p class="mathFunc">\( {dI \over dt} = ùúéE - Œ≥I \)</p>
                <p class="mathFunc">\( {dR \over dt} = Œ≥I - ùúâR \)</p><br>
                <p class="modalText">where</p>
                <ul>
                    <li class="modalText">S is the number of susceptible individuals </li>
                    <li class="modalText">E is the number of exposed individuals</li>
                    <li class="modalText">I is the number of infected individuals</li>
                    <li class="modalText">R is the number of removed individuals</li><br>
                </ul>
                <p class="modalText">and</p>
                <ul>
                <li class="modalText">Œ≤ is the infectious rate</li>                   
                <li class="modalText">ùúé is the incubation rate</li>
                <li class="modalText">Œ≥ is the recovery rate</li>
                <li class="modalText">ùúâ is the rate which recovered individuals return to the susceptible statue due to loss of immunity</li> 
                </ul>
            </div>
            <div id="right-container">
                <h2 id="infoTitle">Information</h2>

                <!-- Reset button -->
                <button id="resetButton" onclick="resetGraph()">Reset graph</button>
                
                <!-- Trigger/Open The Modal -->
                <button id="guideBtn">Start Guide</button>
                <!-- Infomation table -->
                <table class="infoTable">
                    <tr>
                        <th>Population</th>
                        <td id="totalPopulation">100000</td>
                    </tr>
                    <tr>
                        <th>Peak infected</th>
                        <td id="maxInfected">80000</td>
                    </tr>
                    <tr>
                        <th>Peak exposed</th>
                        <td id="maxExposed">10000 at day 420</td>
                    </tr>
                </table>
                
                <!-- Saved parameters table -->
                <button id="savedBtn" onclick="saveParameters()">Save Parameters</button>
                <button id="cookiesTestBtn" onclick="runSavedParameters()">Cookies test</button>
                <button onclick="deleteRow()">Delete Row</button>
                <button id="deleteBtn" onclick="redefineRow()">Redefine Rows</button>
                <input id="savedName" type="text" placeholder="File name" name="savedName" maxlength="20" value=""><br>
                <table id="savedParametersTable" class="savedTable">
                    <tr>
                        <th>File Name</th>
                        <th>Saved Date</th>
                        <th>Try Me</th>
                        <th>Delete</th>
                    </tr>
                </table>
            </div>
        </div>

        <!-- The Modal -->
        <div id="guideBox" class="modal">
            <!-- Modal content -->
            <div class="modal-content">
                <span class="close">&times;</span>
                <h1>Welcome</h1>
                <p class="modalText">This website has been developed by a group of 2nd semester Software students from Aalborg University, for the purpose of creating a tool that can aid experts with controlling the spread of ongoing epidemics.
                     Additionally, the purpose of the website is to fulfill the curriculum requirements of the current semester.</p>
                <h1>About the website</h1>
                <p class="modalText">The modelling of infectious diseases is a tool that can be used to study the mechanisms by which diseases spread, to predict the future course of an outbreak, and to evaluate strategies to control an epidemic.
                     The world is currently in the midst of the COVID-19 pandemic, which makes it even more crucial to have access to a tool like this.
                    
                </p>
                <h1>Created by</h1>
                <p class="modalText">Andreas L√∏vig Borg <br> Elias Davidsen <br> Lasse Ryge Andersen <br> Marius Ihlen Gardshodn <br> Mikkel Hagerup Dolmer</p>
                <em class="modalText">Last updated on April 16, 2021</em>
            </div>
        </div>

        <script src="assets/js/slider_inputs.js"></script>
        <script src="assets/js/cookies.js"></script>
        <script src="assets/js/main.js"></script>
        <script src="assets/js/modal.js"></script>
        <script src="assets/js/former_diseases.js"></script>
        <script src="assets/js/saved_parameters.js"></script>
    </body>
</html>
